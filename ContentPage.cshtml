@{
    // 获取所请求内容的 ID
    string id = UrlData[0];

    // 如果未指定该 ID，请返回主页
    if (id.IsEmpty()) {
        Response.Redirect("~/");
        return;
    } else {
        ContentSource requestedContent = null;

        // 查找与此 ID 匹配的内容项
        foreach (ContentSource content in App.ContentPages) {
            if (content.Id.Equals(id, StringComparison.OrdinalIgnoreCase)) {
                requestedContent = content;
                break;
            }
        }

        // 如果找不到与所请求 ID 匹配的内容，请返回主页
        if (requestedContent == null) {
            Response.Redirect("~/");
            return;
        }

        // 设置页标题
        Page.Title = requestedContent.Title;

        if (requestedContent.ShouldCacheContent) {
            // 首先尝试从缓存获取内容
            string cacheKey = "__CONTENT__" + id;
            string contentString = WebCache.Get(cacheKey);

            // 如果缓存中没有此类内容，请动态呈现页面以获取内容
            if (contentString == null) {
                HelperResult renderedPageContent = RenderPage(requestedContent.PagePath);
                contentString = renderedPageContent.ToHtmlString();
                // 现在，请将内容放在缓存中以供将来使用
                WebCache.Set(cacheKey, contentString, minutesToCache: App.CacheDuration, slidingExpiration: false);
            }

            @Html.Raw(contentString);
        } else
        {
            @RenderPage(requestedContent.PagePath);
        }
    }
}